{% load staticfiles %}
{% load humanize %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{{documento.receipt.receipt_type}} {{documento.receipt.formatted_number}}</title>
    <!-- <link href="{% static 'anopa/pdf.css' %}" rel="stylesheet" type="text/css" /> -->
    <style>
      html, body {
          font-family: "Open Sans",sans-serif;
          margin: 0;
          padding: 0;
        }
        
        @media print {
            html, body {
                /* A4: 210mm x 297mm */
                font-size: 0.9em;
                margin: -4mm;
                /* width: 187mm; */
        
                /* with -7 margin */
                /* width: 198mm; */
                /* height: 280mm; */
            }
        }
        
        
        
        .linea{
          border: 1px solid #DDD;
        }
        
        
        .receipt {
          margin-left: auto;
          margin-right: auto;
          margin-top: 20px;
          max-width: 960px;
          position: relative;
          width: 100%;
        }
        
        .taxpayer-details:after {
          clear: both;
          content: '';
          display: block;
        }
        
        .taxpayer-details > address {
          float: left;
          text-align: center;
          width: 40%;
        }
        
        .taxpayer-details img {
          margin-bottom: 1em;
          max-height: 80px;
          max-width: 250px;
        }
        
        
        .taxpayer-details > .receipt-details {
          float: right;
        }
        
        .receipt-type {
            background-color: #DDD;
            font-size: 1.8em;
            height: 2.6em;
            left: 50%;
            margin-left: -1.5em;
            position: absolute;
            text-align: center;
            width: 3em;
        }
        
        .receipt-type .identifier {
            font-weight: bold;
            margin-top: .3em;
        }
        
        .receipt-type .code {
          font-size: 0.3em;
        }
        
        .receipt-number {
          text-align: right;
        }
        
        .receipt-details .receipt-type-description {
          font-size: 1.3em;
          font-weight: bold;
        }
        
        address {
          float: left;
          font-style: normal;
        }
        
        .sale-conditions {
            float: right;
        }
        
        .service-dates:after {
          clear: both;
          content: '';
          display: block;
        }
        
        .service-dates > div {
            float: left;
            width: 50%;
        }
        
        .service-dates .expiration {
            text-align: right;
        }
        
        
        
        table {
          border-collapse: collapse;
          border-spacing: 0;
          margin-bottom: 10px;
          width: 100%;
        }
        
        th, td {
          padding-right: 6px;
          padding-left: 6px;
          padding-top: 2px;
          padding-bottom: 2px;
          text-align: center;
        }
        
        th {
          border-bottom: 2px solid #DDD;
        }
        
        
        
        tbody > tr:nth-of-type(2n+1) {
          background-color: #F9F9F9;
        }
        
        td {
          border-bottom: 1px solid #DDD;
        }
        
        tfoot {
          font-weight: bold;
        }
        
        hr {
          background-color: #DDD;
          border: 0;
          height: 1px;
        }
        
        a {
          color: #00E;
        }
        
        
        
        .barcode {
            text-align: center;
        }
        
        .barcode img {
            height: 80px;
            width: 450px;
        }
        
        .footer_recibo {
          position: fixed;
          bottom: 0px;
          right: 0;
          left: 0;
          margin-right: auto;
          margin-left: auto;
          text-align: center;
        }
        
        .footer_varias_paginas{
          position: running(footer);
          bottom: 0px;
          right: 0;
          left: 0;
          margin-right: auto;
          margin-left: auto;
          text-align: center;
        }
        
        .op-pago{
          float: right;
          text-align: center;
          width: 40%;
        }      


    </style>
  </head>
  <body>
    <div class="receipt">

      <header>
        <div class="taxpayer-details group">
          <address>
            {% if documento.comunidad.contribuyente.extras %}
              <img src="{{ documento.comunidad.contribuyente.extras.logo_as_data_uri }}" alt="Logo"><br>
            {% else %}
              <h3>{{ documento.comunidad }}</h3>
            {% endif %}
            {{ documento.comunidad.domicilio }}<br>
          </address>

          <div class="receipt-type">
            <div class="identifier">
              {{ documento.receipt.receipt_type.description|slice:"-1:" }}
            </div>
            <div class="code">
              Código {{ documento.receipt.receipt_type.code }}
            </div>
          </div>

          <div class="receipt-details">
            <div class="receipt-type-description">
              {{ documento.receipt.receipt_type.description }} {% if documento.fecha_anulacion %} <strong style="color: #FF0000;" >| ANULADO |</strong>{% endif %}
            </div>
            <strong>Nº</strong> {{ documento.receipt.formatted_number }}<br>
            Fecha Documento: {{ documento.receipt.issued_date|date:"d/m/Y" }}<br>
            <small>
              C.U.I.T.:{{ documento.comunidad.contribuyente.cuit }}<br>
              Ingresos Brutos: Exento<br>
              Inicio de actividad: {{documento.comunidad.contribuyente.active_since|date:"d/m/Y"}}<br>
              Fecha Operacion: {{ documento.fecha_operacion|date:"d/m/Y" }}
            </small>
          </div>
        </div>

        <hr>

        <div class="client">

          <div class="client-data">
            {% if documento.destinatario %}
              <strong>DESTINATARIO:</strong>
              {{ documento.destinatario }} <br>
              <strong>{{ documento.destinatario.perfil.tipo_documento }}:</strong>
              {{ documento.destinatario.perfil.numero_documento }} <br>
            {% else %}
              <strong>DOCUMENTO INTERNO</strong>
            {% endif %}
          </div>
        </div>

        <hr>

      </header>

      
      
      {% block content %}
      {% endblock %}
      
      {% if documento.descripcion %}
        <p><strong>Descripcion:</strong></p>
        <i>{{documento.descripcion}}</i>
      {% endif %}
      
      <div class="taxpayer-details group">
        <div class="receipt-details">
          <table>      
            {% block totals %}
            {% endblock %}      
          </table>
        </div>
      </div>            

      {% block footer %}
      {% endblock %}      

    </div>
  </body>
</html>
